<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      lang="ko"
      layout:decorate="~{common/mylayout}">
<body>

<div layout:fragment="content" class="relative z-50">

    <div class="flex justify-center items-center mt-40 mb-20">
        <div class="w-full max-w-2xl bg-white shadow-md border border-gray-300 rounded-xl p-8">

            <h2 class="font-black text-center text-h1 text-gradient mb-6">íšŒì›ê°€ì…</h2>

            <!-- ì„œë²„ë‹¨ ì˜¤ë¥˜ í‘œì‹œ -->
            <div th:if="${error}"
                 class="bg-red-100 text-red-700 p-2 rounded mb-4">
                <p th:text="${error}"></p>
            </div>

            <!-- DTO ë°”ì¸ë”© ì¶”ê°€ -->
            <form id="signupForm" th:object="${memberDto}" action="/signup" method="post" class="space-y-4">

                <!-- ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ -->
                <input type="hidden" th:field="*{emailCode}" id="hiddenEmailCode">

                <!-- ì•„ì´ë”” -->
                <div>
                    <label class="block text-gray-700 mb-1">ì•„ì´ë””</label>
                    <div class="flex gap-2">
                        <input th:field="*{userId}" id="userId"
                               class="w-full border px-3 py-2 rounded" required>
                        <button type="button" id="checkIdBtn"
                                class="bg-main text-white px-3 py-2 rounded whitespace-nowrap">
                            ì¤‘ë³µ í™•ì¸
                        </button>
                    </div>
                    <p id="idCheckMsg" class="text-sm mt-1"></p>
                </div>

                <!-- ë¹„ë°€ë²ˆí˜¸ -->
                <div>
                    <label class="block text-gray-700 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" th:field="*{password}" id="password"
                           class="w-full border px-3 py-2 rounded" required>
                    <p class="text-sm text-gray-500 mt-1">
                        * 8~20ì / ì˜ë¬¸ + ìˆ«ì ë˜ëŠ” íŠ¹ìˆ˜ë¬¸ì í¬í•¨
                    </p>
                </div>

                <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ -->
                <div>
                    <label class="block text-gray-700 mb-1">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <input type="password" id="passwordConfirm"
                           class="w-full border px-3 py-2 rounded" required>
                    <p id="pwCheckMsg" class="text-sm mt-1"></p>
                </div>

                <!-- ì´ë©”ì¼ -->
                <div>
                    <label class="block text-gray-700 mb-1">ì´ë©”ì¼</label>
                    <div class="flex gap-2">
                        <input th:field="*{email}" id="email"
                               class="w-full border px-3 py-2 rounded" required>
                        <button type="button" id="checkEmailBtn"
                                class="bg-main text-white px-3 py-2 rounded whitespace-nowrap">
                            ì¤‘ë³µ í™•ì¸
                        </button>
                    </div>
                    <p id="emailMsg" class="text-sm mt-1"></p>

                    <button type="button" id="emailSendBtn"
                            class="bg-gray-400 text-white px-4 py-2 rounded mt-2"
                            disabled>
                        ì¸ì¦ ì½”ë“œ ë°œì†¡
                    </button>
                </div>

                <!-- ì¸ì¦ ì½”ë“œ ì…ë ¥ -->
                <div>
                    <label class="block text-gray-700 mb-1">ì¸ì¦ ì½”ë“œ</label>
                    <input type="text" id="emailCodeInput"
                           class="w-full border px-3 py-2 rounded">
                </div>

                <button type="button" id="verifyEmailBtn"
                        class="bg-main text-white px-4 py-2 rounded mt-2">
                    ì¸ì¦ë²ˆí˜¸ í™•ì¸
                </button>

                <p id="verifyMsg" class="text-sm mt-1"></p>


                <!-- ì´ë¦„ -->
                <div>
                    <label class="block text-gray-700 mb-1">ì´ë¦„</label>
                    <input th:field="*{name}" id="name"
                           class="w-full border px-3 py-2 rounded" required>
					<p id="nameMsg" class="text-sm mt-1"></p>
                </div>

                <!-- ì „í™”ë²ˆí˜¸: 010 ê³ ì • + 8ìë¦¬ -->
                <div>
                    <label class="block text-gray-700 mb-1">ì „í™”ë²ˆí˜¸</label>

                    <div class="flex gap-2 items-center">
                        <span class="px-3 py-2 border rounded bg-gray-100">
                            010-
                        </span>

                        <input id="phoneRest"
                               type="text"
                               maxlength="8"
                               class="w-full border px-3 py-2 rounded"
                               placeholder="8ìë¦¬ ì…ë ¥"
                        >
                    </div>

                    <p id="phoneMsg" class="text-sm mt-1"></p>

                    <!-- ìµœì¢… ì €ì¥ìš© hidden input -->
                    <input type="hidden" th:field="*{phone}" id="phoneFull">
                </div>


                <!-- ì„±ë³„ -->
                <div class="mb-4">
                    <label class="block text-gray-700 mb-1">ì„±ë³„</label>

                    <div class="relative">
                        <button type="button" id="genderDropdownBtn"
                                class="w-full flex items-center justify-between px-4 py-2 bg-white text-black border border-gray-300 rounded-lg cursor-pointer">
                            <span id="genderSelectedText">ì„ íƒ ì—†ìŒ</span>
                            <svg id="genderDropdownIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>

                        <div id="genderDropdownMenu"
                             class="hidden absolute w-full mt-1 bg-white border border-gray-300 rounded shadow max-h-60 overflow-y-auto z-50">

                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white"
                                 data-value="">
                                ì„ íƒ ì—†ìŒ
                            </div>

                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white"
                                 data-value="M">
                                ë‚¨ì„±
                            </div>

                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white"
                                 data-value="F">
                                ì—¬ì„±
                            </div>
                        </div>
                    </div>

                    <!-- ìˆ¨ê²¨ì§„ ì…€ë ‰íŠ¸ íƒœê·¸ (Spring Form ì—°ë™) -->
                    <select th:field="*{gender}" id="genderSelect" class="hidden">
                        <option value="">ì„ íƒ ì—†ìŒ</option>
                        <option value="M">ë‚¨ì„±</option>
                        <option value="F">ì—¬ì„±</option>
                    </select>
                </div>

                <!-- ìƒë…„ì›”ì¼ -->
                <div>
                    <label class="block text-gray-700 mb-1">ìƒë…„ì›”ì¼</label>
                    <input type="date" th:field="*{birthDate}" id="birthDate"
                           class="w-full border px-3 py-2 rounded" required>
                </div>

                <!-- ì„ í˜¸ íƒœê·¸ -->
                <div class="mb-4">
                    <label class="block text-gray-700 mb-1">ì„ í˜¸ íƒœê·¸</label>

                    <div class="relative">
                        <button type="button" id="tagDropdownBtn"
                                class="w-full flex items-center justify-between px-4 py-2 bg-white text-black border border-gray-300 rounded-lg cursor-pointer">
                            <span id="tagSelectedText">ì„ íƒí•˜ì„¸ìš”</span>
                            <svg id="tagDropdownIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>

                        <div id="tagDropdownMenu"
                             class="hidden absolute w-full mt-1 bg-white border border-gray-300 rounded shadow max-h-60 overflow-y-auto z-50">

                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white"
                                 data-value="">
                                ì„ íƒí•˜ì„¸ìš”
                            </div>

                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ìì—°">ğŸŒ¿ ìì—°</div>
                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ì•¼ê°„">ğŸŒ™ ì•¼ê°„</div>
							<div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ì²´í—˜">ğŸ¨ ì²´í—˜</div>
							<div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ë¨¹ê±°ë¦¬">ğŸœ ë¨¹ê±°ë¦¬</div>
							<div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ë¬¸í™”">ğŸ­ ë¬¸í™”</div>
							<div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ì•„ë™">ğŸ‘¦ ì•„ë™</div>
                            <div class="dropdown-option px-4 py-2 cursor-pointer hover:bg-main hover:text-white" data-value="ê³„ì ˆ">â„ï¸ ê³„ì ˆ</div>
                        </div>
                    </div>

                    <!-- ìˆ¨ê²¨ì§„ select (Spring Form ì—°ë™) -->
                    <select th:field="*{favoriteTag}" id="tagSelect" class="hidden" required>
                        <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
                        <option value="ìì—°">ìì—°</option>
                        <option value="ì•¼ê°„">ì•¼ê°„</option>
                        <option value="ë¨¹ê±°ë¦¬">ë¨¹ê±°ë¦¬</option>
                        <option value="ì²´í—˜">ì²´í—˜</option>
                        <option value="ê³„ì ˆ">ê³„ì ˆ</option>
                        <option value="ë¬¸í™”">ë¬¸í™”</option>
                        <option value="ì•„ë™">ì•„ë™</option>
                    </select>
                </div>

                <button type="submit"
                        class="w-full bg-main text-white text-xl py-2 rounded font-bold hover:bg-gradient2 font-bold
                        duration-300 ease-in-out hover:scale-95">
                    íšŒì›ê°€ì… ì™„ë£Œ
                </button>

            </form>

        </div>
    </div>
</div>

	<th:block layout:fragment="script">
		<script type="text/javascript" th:src="@{/js/signupDropdown.js}"></script>
		<script>
			document.addEventListener("DOMContentLoaded", () => {

				/* ---------- 0. ê³µí†µ DOM ìš”ì†Œ / íŒ¨í„´ ---------- */
				const signupForm      = document.getElementById("signupForm");

				// ì•„ì´ë””
				const userId          = document.getElementById("userId");
				const idCheckMsg      = document.getElementById("idCheckMsg");
				const checkIdBtn      = document.getElementById("checkIdBtn");

				// ì´ë©”ì¼
				const emailInput      = document.getElementById("email");
				const checkEmailBtn   = document.getElementById("checkEmailBtn");
				const emailMsgTag     = document.getElementById("emailMsg");
				const emailSendBtn    = document.getElementById("emailSendBtn");
				const emailCodeInput  = document.getElementById("emailCodeInput");
				const hiddenEmailCode = document.getElementById("hiddenEmailCode");
				const verifyEmailBtn  = document.getElementById("verifyEmailBtn");
				const verifyMsg       = document.getElementById("verifyMsg");
				const emailPattern    = /^[0-9a-zA-Z._%+-]+@[0-9a-zA-Z.-]+\.[a-zA-Z]{2,}$/;

				// ì´ë¦„
				const nameInput       = document.getElementById("name");
				const nameMsg         = document.getElementById("nameMsg");
				const namePattern     = /^[ê°€-í£a-zA-Z\s]{2,20}$/;

				// ë¹„ë°€ë²ˆí˜¸
				const password        = document.getElementById("password");
				const passwordConfirm = document.getElementById("passwordConfirm");
				const pwCheckMsg      = document.getElementById("pwCheckMsg");

				// ì „í™”ë²ˆí˜¸
				const phoneRest       = document.getElementById("phoneRest");
				const phoneFull       = document.getElementById("phoneFull");
				const phoneMsg        = document.getElementById("phoneMsg");

				// ìƒë…„ì›”ì¼
				const birthInput      = document.getElementById("birthDate");


				/* ---------- 1. ìƒíƒœ ë³€ìˆ˜ ---------- */
				let emailVerified = false;
				let verifiedEmail = "";   // ì¸ì¦ ì™„ë£Œëœ ì´ë©”ì¼

				let idChecked     = false;
				let checkedUserId = "";   // ì¤‘ë³µ í™•ì¸ì— ì‚¬ìš©ëœ ì•„ì´ë””

				let emailChecked  = false;
				let checkedEmail  = "";   // ì¤‘ë³µ í™•ì¸ì— ì‚¬ìš©ëœ ì´ë©”ì¼


				/* ---------- 2. ì•„ì´ë”” ì¤‘ë³µ í™•ì¸ ---------- */
				checkIdBtn.addEventListener("click", () => {
					const uid = userId.value.trim();
					const idRegex = /^[a-zA-Z0-9]{5,20}$/;

					if (!idRegex.test(uid)) {
						idCheckMsg.innerText = "ì˜ë¬¸/ìˆ«ì 5~20ì ì…ë ¥";
						idCheckMsg.style.color = "red";
						idChecked = false;
						checkedUserId = "";
						return;
					}

					fetch(`/api/member/check-userid?userId=${uid}`)
							.then(res => res.json())
							.then(data => {
								if (data.exists) {
									idCheckMsg.innerText = "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì•„ì´ë””ì…ë‹ˆë‹¤.";
									idCheckMsg.style.color = "red";
									idChecked = false;
									checkedUserId = "";
								} else {
									idCheckMsg.innerText = "ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤!";
									idCheckMsg.style.color = "green";
									idChecked = true;
									checkedUserId = uid;
								}
							});
				});

				// ì•„ì´ë”” ë³€ê²½ ì‹œ â†’ ì¤‘ë³µ í™•ì¸ ë¬´íš¨í™”
				userId.addEventListener("input", () => {
					if (userId.value.trim() !== checkedUserId) {
						idChecked = false;
						idCheckMsg.innerText = "ì•„ì´ë”” ì¤‘ë³µ í™•ì¸ì„ ë‹¤ì‹œ í•´ì£¼ì„¸ìš”.";
						idCheckMsg.style.color = "red";
					}
				});


				/* ---------- 3. ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ + ì¸ì¦ ---------- */

				// ì´ë©”ì¼ ì…ë ¥ ë³€ê²½ ì‹œ ìƒíƒœ ì´ˆê¸°í™”
				emailInput.addEventListener("input", () => {
					emailChecked  = false;
					checkedEmail  = "";
					emailVerified = false;
					verifiedEmail = "";

					emailMsgTag.innerText = "";
					verifyMsg.innerText   = "";
					hiddenEmailCode.value = "";

					emailSendBtn.disabled = true;
					emailSendBtn.classList.add("bg-gray-400");
					emailSendBtn.classList.remove("bg-main");
				});

				// ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
				checkEmailBtn.addEventListener("click", () => {
					const email = emailInput.value.trim();

					if (!emailPattern.test(email)) {
						emailMsgTag.innerText = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.";
						emailMsgTag.style.color = "red";
						emailSendBtn.disabled = true;
						emailSendBtn.classList.remove("bg-main");
						emailSendBtn.classList.add("bg-gray-400");
						emailChecked = false;
						checkedEmail = "";
						return;
					}

					fetch(`/api/member/check-email?email=${email}`)
							.then(res => res.json())
							.then(data => {
								if (data.exists) {
									emailMsgTag.innerText = "ì´ë¯¸ ê°€ì…ëœ ì´ë©”ì¼ì…ë‹ˆë‹¤.";
									emailMsgTag.style.color = "red";
									emailSendBtn.disabled = true;
									emailChecked = false;
									checkedEmail = "";
								} else {
									emailMsgTag.innerText = "ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤!";
									emailMsgTag.style.color = "green";
									emailChecked = true;
									checkedEmail = email;

									emailSendBtn.disabled = false;
									emailSendBtn.classList.remove("bg-gray-400");
									emailSendBtn.classList.add("bg-main");
								}
							});
				});

				// ì¸ì¦ì½”ë“œ ë°œì†¡
				emailSendBtn.addEventListener("click", () => {
					const email = emailInput.value.trim();

					// ì¤‘ë³µ í™•ì¸ëœ ì´ë©”ì¼ì¸ì§€ í•œ ë²ˆ ë” ì²´í¬
					if (!emailChecked || email === "" || email !== checkedEmail) {
						alert("ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ì„ ë‹¤ì‹œ í•´ì£¼ì„¸ìš”.");
						return;
					}

					fetch(`/api/member/send-email-code?email=${email}`)
							.then(res => res.text())
							.then(result => {
								if (result === "OK") {
									alert("ì¸ì¦ì½”ë“œê°€ ì´ë©”ì¼ë¡œ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
								}
							});
				});

				// ì¸ì¦ë²ˆí˜¸ í™•ì¸
				verifyEmailBtn.addEventListener("click", () => {
					const email = emailInput.value.trim();
					const code  = emailCodeInput.value.trim();

					fetch(`/api/member/verify-email-code`, {
						method: "POST",
						headers: {"Content-Type": "application/x-www-form-urlencoded"},
						body: `email=${email}&code=${code}`
					})
							.then(res => res.text())
							.then(result => {
								if (result === "true" || result === true) {
									verifyMsg.innerText = "ì¸ì¦ ì™„ë£Œ!";
									verifyMsg.style.color = "green";
									hiddenEmailCode.value = code;

									emailVerified = true;
									verifiedEmail = email;
								} else {
									verifyMsg.innerText = "ì¸ì¦ë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.";
									verifyMsg.style.color = "red";
									emailVerified = false;
									verifiedEmail = "";
								}
							});
				});


				/* ---------- 4. ì´ë¦„ ìœ íš¨ì„± ê²€ì‚¬ ---------- */
				nameInput.addEventListener("input", () => {
					const v = nameInput.value.trim();

					if (!v) {
						nameMsg.innerText = "";
						return;
					}

					if (!namePattern.test(v)) {
						nameMsg.innerText = "ì´ë¦„ì€ 2~20ì, í•œê¸€/ì˜ë¬¸ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
						nameMsg.style.color = "red";
					} else {
						nameMsg.innerText = "ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë¦„ì…ë‹ˆë‹¤.";
						nameMsg.style.color = "green";
					}
				});


				/* ---------- 5. ë¹„ë°€ë²ˆí˜¸ í˜•ì‹ + ì¼ì¹˜ ê²€ì‚¬ ---------- */
				function checkPwMatch() {
					const pw  = password.value;
					const pwc = passwordConfirm.value;

					const pwPattern =
							/^(?=.*[A-Za-z])(?=.*(\d|[!@#$%^&*?_~]))[A-Za-z\d!@#$%^&*?_~]{8,20}$/;

					if (pw === "" && pwc === "") {
						pwCheckMsg.innerText = "";
						return;
					}

					if (!pwPattern.test(pw)) {
						pwCheckMsg.innerText = "ë¹„ë°€ë²ˆí˜¸ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ì˜ë¬¸ + ìˆ«ì/íŠ¹ìˆ˜ê¸°í˜¸, 8~20ì)";
						pwCheckMsg.style.color = "red";
						return;
					}

					if (pw !== "" && pwc !== "") {
						if (pw === pwc) {
							pwCheckMsg.innerText = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•©ë‹ˆë‹¤.";
							pwCheckMsg.style.color = "green";
						} else {
							pwCheckMsg.innerText = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
							pwCheckMsg.style.color = "red";
						}
					} else {
						pwCheckMsg.innerText = "";
					}
				}

				password.addEventListener("input", checkPwMatch);
				passwordConfirm.addEventListener("input", checkPwMatch);


				/* ---------- 6. ì „í™”ë²ˆí˜¸: 010 + 8ìë¦¬ ---------- */
				phoneRest.addEventListener("input", () => {
					let v = phoneRest.value.replace(/[^0-9]/g, "");
					if (v.length > 8) v = v.slice(0, 8);
					phoneRest.value = v;

					if (v.length === 8) {
						const formatted = `010${v.slice(0,4)}${v.slice(4,8)}`;
						phoneFull.value = formatted;

						phoneMsg.innerText = "ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ì…ë‹ˆë‹¤.";
						phoneMsg.style.color = "green";
					} else {
						phoneFull.value = "";
						phoneMsg.innerText = "ìˆ«ì 8ìë¦¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
						phoneMsg.style.color = "red";
					}
				});


				/* ---------- 7. ìƒë…„ì›”ì¼: ì˜¤ëŠ˜ ì´í›„ ì„ íƒ ë¶ˆê°€ ---------- */
				if (birthInput) {
					const today = new Date().toISOString().split("T")[0];
					birthInput.setAttribute("max", today);
				}


				/* ---------- 8. ìµœì¢… ê°€ì… ê²€ì¦ ---------- */
				signupForm.addEventListener("submit", (e) => {

					// (1) ì•„ì´ë”” ì¤‘ë³µ í™•ì¸ ì—¬ë¶€ + ê°’ ì¼ì¹˜
					const currentUserId = userId.value.trim();
					if (!idChecked || currentUserId === "" || currentUserId !== checkedUserId) {
						e.preventDefault();
						alert("ì•„ì´ë”” ì¤‘ë³µ í™•ì¸ì„ ë‹¤ì‹œ í•´ì£¼ì„¸ìš”.");
						return;
					}

					// (2) ì´ë©”ì¼ ì¸ì¦ ì—¬ë¶€ + ê°’ ì¼ì¹˜
					const currentEmail = emailInput.value.trim();
					if (!emailVerified || currentEmail === "" || currentEmail !== verifiedEmail) {
						e.preventDefault();
						alert("í˜„ì¬ ì…ë ¥ëœ ì´ë©”ì¼ì— ëŒ€í•´ ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”!");
						return;
					}

					// (3) ì „í™”ë²ˆí˜¸
					if (!phoneFull.value) {
						e.preventDefault();
						alert("ì „í™”ë²ˆí˜¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”!");
						return;
					}

					// (4) ì´ë¦„ í˜•ì‹
					const nameVal = nameInput.value.trim();
					if (!namePattern.test(nameVal)) {
						e.preventDefault();
						alert("ì´ë¦„ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”. (2~20ì, í•œê¸€/ì˜ë¬¸ë§Œ)");
						return;
					}

					// (5) ì„±ë³„ ì„ íƒ ì—¬ë¶€
					const genderSelect = document.getElementById("genderSelect");
					if (!genderSelect.value) {
						e.preventDefault();
						alert("ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
						return;
					}
				});

			});
		</script>
	</th:block>

</body>
</html>
